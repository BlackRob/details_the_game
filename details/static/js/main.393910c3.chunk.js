(this.webpackJsonpview=this.webpackJsonpview||[]).push([[0],{29:function(e){e.exports=JSON.parse('{"header":{"snum":1},"sentence":[{"id":0,"type":"gameid","word":""},{"id":1,"type":"intrj","word":"Zap"},{"id":2,"type":"p_exc","word":"!"},{"id":3,"type":"adj","word":"The"},{"id":4,"type":"adj","word":"gay"},{"id":5,"type":"noun","word":"wizard"},{"id":6,"type":"adv","word":"quickly"},{"id":7,"type":"verb","word":"cast"},{"id":8,"type":"adj","word":"a"},{"id":9,"type":"noun","word":"spell"},{"id":10,"type":"prep","word":"on"},{"id":11,"type":"pron","word":"his"},{"id":12,"type":"noun","word":"wife"},{"id":13,"type":"conj","word":"and"},{"id":14,"type":"pron","word":"her"},{"id":15,"type":"noun","word":"sister"},{"id":16,"type":"p_prd","word":"."}],"cards":[]}')},32:function(e,t,a){e.exports=a(66)},37:function(e,t,a){},38:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),i=(a(37),a(23)),l=a(24),s=a(30),d=a(25),u=a(1),m=a(31),h=(a(38),a(26)),g=a.n(h),p=a(9),w=(a(41),a(7)),f=(a(8),function(e){var t=e.showVal,a=e.setShow,n="hidden";return t&&(n="z2"),r.a.createElement("div",{className:n},r.a.createElement("div",{className:"z2_body"},r.a.createElement("div",{className:"z2_title"},'Details about "details"',r.a.createElement("span",{className:"z2_hide",onClick:a},"x")),r.a.createElement("p",null,r.a.createElement("strong",null,"What is this?")," It's a game to practice English grammar."),r.a.createElement("p",null,r.a.createElement("strong",null,"How do you play?")," You start with a simple sentence, then make it longer by adding details."),r.a.createElement("p",null,r.a.createElement("strong",null,'What do you mean by "details"?'),' I mean details! If I have a sentence, "Chocolate is delicious", I can add a ',r.a.createElement("i",null,"detail"),' like the adjective "dark", and now I have a longer sentence, "Dark chocolate is delicious".')))}),v=function(){var e=Object(n.useState)(!1),t=Object(w.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:"header_punctuation "},r.a.createElement("button",{onClick:function(){c(!0)}},"..."),r.a.createElement(f,{showVal:a,setShow:function(){c(!1)}}))},E=function(e){var t=e.showVal,a=e.setShow,n="hidden";return t&&(n="z2"),r.a.createElement("div",{className:n},r.a.createElement("div",{className:"z2_body"},r.a.createElement("div",{className:"z2_title"},"FAQ",r.a.createElement("span",{className:"z2_hide",onClick:a},"x")),r.a.createElement("p",null,r.a.createElement("strong",null,"What is this?")," ",r.a.createElement("br",null),"It's a game to practice English grammar."),r.a.createElement("p",null,r.a.createElement("strong",null,"How do you play?")," ",r.a.createElement("br",null),"You start with a simple sentence, then make it longer by adding details."),r.a.createElement("p",null,r.a.createElement("strong",null,'What do you mean by "details"?')," ",r.a.createElement("br",null),'I mean details! If I have a sentence, "Chocolate is delicious", I can add a ',r.a.createElement("i",null,"detail"),' like the adjective "dark", and now I have a longer sentence, "Dark chocolate is delicious".')))},y=function(){var e=Object(n.useState)(!1),t=Object(w.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:"header_punctuation "},r.a.createElement("button",{onClick:function(){c(!0)}},"?"),r.a.createElement(E,{showVal:a,setShow:function(){c(!1)}}))},b=function(e){var t=e.showVal,a=e.setShow,n="hidden";return t&&(n="z2"),r.a.createElement("div",{className:n},r.a.createElement("div",{className:"z2_body"},r.a.createElement("div",{className:"z2_title"},"Love it? Share it!",r.a.createElement("span",{className:"z2_hide",onClick:a},"x")),r.a.createElement("p",null,r.a.createElement("strong",null,"What is this?")," It's a game to practice English grammar."),r.a.createElement("p",null,r.a.createElement("strong",null,"How do you play?")," You start with a simple sentence, then make it longer by adding details."),r.a.createElement("p",null,r.a.createElement("strong",null,'What do you mean by "details"?'),' I mean details! If I have a sentence, "Chocolate is delicious", I can add a ',r.a.createElement("i",null,"detail"),' like the adjective "dark", and now I have a longer sentence, "Dark chocolate is delicious".'),r.a.createElement("p",null,r.a.createElement("strong",null,"What is this?")," It's a game to practice English grammar."),r.a.createElement("p",null,r.a.createElement("strong",null,"How do you play?")," You start with a simple sentence, then make it longer by adding details."),r.a.createElement("p",null,r.a.createElement("strong",null,'What do you mean by "details"?'),' I mean details! If I have a sentence, "Chocolate is delicious", I can add a ',r.a.createElement("i",null,"detail"),' like the adjective "dark", and now I have a longer sentence, "Dark chocolate is delicious".'),r.a.createElement("p",null,r.a.createElement("strong",null,"What is this?")," It's a game to practice English grammar."),r.a.createElement("p",null,r.a.createElement("strong",null,"How do you play?")," You start with a simple sentence, then make it longer by adding details."),r.a.createElement("p",null,r.a.createElement("strong",null,'What do you mean by "details"?'),' I mean details! If I have a sentence, "Chocolate is delicious", I can add a ',r.a.createElement("i",null,"detail"),' like the adjective "dark", and now I have a longer sentence, "Dark chocolate is delicious".'),r.a.createElement("p",null,r.a.createElement("strong",null,"What is this?")," It's a game to practice English grammar."),r.a.createElement("p",null,r.a.createElement("strong",null,"How do you play?")," You start with a simple sentence, then make it longer by adding details."),r.a.createElement("p",null,r.a.createElement("strong",null,'What do you mean by "details"?'),' I mean details! If I have a sentence, "Chocolate is delicious", I can add a ',r.a.createElement("i",null,"detail"),' like the adjective "dark", and now I have a longer sentence, "Dark chocolate is delicious".')))},k=function(){var e=Object(n.useState)(!1),t=Object(w.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:"header_punctuation "},r.a.createElement("button",{onClick:function(){c(!0)}},"!"),r.a.createElement(b,{showVal:a,setShow:function(){c(!1)}}))},S=function(e){Object(p.a)({},e);return r.a.createElement("header",{className:"App_header"},r.a.createElement("div",{className:"Header_logo"},r.a.createElement("a",{href:"http://workingclasshouses.com",alt:"logo"},"details")),r.a.createElement(v,null),r.a.createElement(y,null),r.a.createElement(k,null))},W=(a(42),function(e){var t=e.sentence,a=e.placing,n=e.insert;return r.a.createElement("div",{className:"active_sentence_slot"},r.a.createElement("div",{className:"active_sentence_top_effect"}),r.a.createElement("div",{className:"active_sentence_content"},r.a.createElement("div",{className:"active_sentence"},t.map((function(e,t){return function(e,t,a,n){var c="placing_button hidden",o="";return a&&(c="placing_button",o="block_border"),r.a.createElement("div",{key:e.id,className:"block ".concat(o)},r.a.createElement("div",{className:e.type},e.word),r.a.createElement("button",{className:"".concat(c),onClick:function(e){e.preventDefault(),n(t)}},t))}(e,t,a,n)})))),r.a.createElement("div",{className:"active_sentence_bottom_effect"}))}),C=(a(43),function(e){var t=e.updateState,a=e.active,n=e.wR,c=e.clearWR,o=e.toggleWorking,i="clear_button";return a&&0!==n.length||(i+=" disabled"),r.a.createElement("button",{className:i,onClick:function(e){e.preventDefault(),n.forEach((function(e){t(e,""),o(e)})),c()}},"clear")}),_=function(e){var t=e.wR,a=e.removeFromWR,n=e.updateState,c=e.cards,o=e.toggleWorking,i=e.undoable,l=e.undoSecondsLeft,s=e.winner,d=e.totalCardCount,u=e.sentenceUpdateCount,m="",h=R();(i?m=r.a.createElement("div",{className:"working_row_message"},"Seconds left to change your mind: ",l):s&&(m=r.a.createElement("div",{className:"working_row_message"},h,"! \xa0 You won! \xa0 \xa0 Cards inserted: ",d," \xa0 \xa0 Moves needed: ",u)),0!==t.length)&&(m=t.map((function(e){return c.find((function(t){return t.id===e}))})).map((function(e){return r.a.createElement(N,{element:e,key:e.id,updateState:n,removeFromWR:a,toggleWorking:o})})));return r.a.createElement("div",{className:"working_row_content"},m)},R=function(){var e=["Yikes","Wow","Hey now","Zounds","Kapow","Whammy","Whaaaaat","Whoopie","Zoinks","Bingo"];return e[Math.floor(Math.random()*e.length)]},N=function(e){var t=e.element,a=e.updateState,n=e.removeFromWR,c=e.toggleWorking;return r.a.createElement("div",{className:t.type+" card"},r.a.createElement(j,{wordType:t.type}),r.a.createElement(I,{updateState:a,cardId:t.id,removeFromWR:n,toggleWorking:c}),r.a.createElement(O,{word:t.word,cardId:t.id,updateState:a}))},j=function(e){var t=e.wordType;return r.a.createElement("div",{className:"typename"},t)},I=function(e){var t=e.updateState,a=e.cardId,n=e.removeFromWR,c=e.toggleWorking;return r.a.createElement("button",{onClick:function(e){e.preventDefault(),t(a,""),c(a),n(a)}},"x")},O=function(e){var t=e.word,a=e.cardId,n=e.updateState;return r.a.createElement("div",{className:"input_div"},r.a.createElement("input",{type:"text",defaultValue:t,size:Math.max(4,t.length),name:a,onKeyUp:function(e){n(a,e.target.value)}}))},x=function(e){var t=e.cards,a=e.setPlacing,n=e.placing,c=e.undoable,o="place_button disabled",i=!1,l=t.filter((function(e){return e.working}));return l.length>0&&(i=!0,l.forEach((function(e){0===e.word.length&&(i=!1)}))),i&&!c&&(o="place_button"),r.a.createElement("button",{className:o,onClick:function(){a(!n)}},"place")},T=function(e){var t=e.type,a=e.addToWR,n=e.cards,c=e.toggleWorking,o="disabled",i=n.filter((function(e){return e.type===t&&!e.working}));return i.length>0&&(o=t),r.a.createElement("button",{className:o,onClick:function(e){e.preventDefault();var t=i[i.length-1];c(t.id),a(t.id)}},t,r.a.createElement("br",null)," ",i.length)},z=function(e){var t=e.cards,a=e.onEdit,n=e.active,c=e.wR,o=e.toggleWorking,i=e.clearWR,l=e.addToWR,s=e.removeFromWR,d=e.setPlacing,u=e.placing,m=e.undoable,h=e.undoSecondsLeft,g=e.winner,p=e.totalCardCount,w=e.sentenceUpdateCount;return r.a.createElement("div",{className:"card_row"},r.a.createElement("div",{className:"working_row"},r.a.createElement(C,{updateState:a,active:n,wR:c,clearWR:i,toggleWorking:o}),r.a.createElement("div",{className:"working_row_slot"},r.a.createElement(_,{wR:c,removeFromWR:s,updateState:a,cards:t,toggleWorking:o,undoable:m,undoSecondsLeft:h,winner:g,totalCardCount:p,sentenceUpdateCount:w})),r.a.createElement(x,{cards:t,setPlacing:d,placing:u,undoable:m})),r.a.createElement("div",{className:"available_cards"},r.a.createElement(T,{type:"adj",wR:c,addToWR:l,cards:t,toggleWorking:o}),r.a.createElement(T,{type:"adv",wR:c,addToWR:l,cards:t,toggleWorking:o}),r.a.createElement(T,{type:"conj",wR:c,addToWR:l,cards:t,toggleWorking:o}),r.a.createElement(T,{type:"pron",wR:c,addToWR:l,cards:t,toggleWorking:o}),r.a.createElement(T,{type:"noun",wR:c,addToWR:l,cards:t,toggleWorking:o}),r.a.createElement(T,{type:"verb",wR:c,addToWR:l,cards:t,toggleWorking:o}),r.a.createElement(T,{type:"prep",wR:c,addToWR:l,cards:t,toggleWorking:o}),r.a.createElement(T,{type:"intrj",wR:c,addToWR:l,cards:t,toggleWorking:o})))},U=(a(44),a(68)),F=a(69),D=a(70),L=a(71),P=a(72),H=a(73),Y=a(74),M=a(75),V=a(76),B=a(77),G=a(78),A=a(79),J=(a(45),function(e){var t=e.sentence,a=e.cards,c=e.setShowSharing,o=e.workingCards,i=Object(n.createRef)(),l="";return Object(n.useEffect)((function(){l=X({sentence:t,cards:a,canvasRef:i,workingCards:o})})),r.a.createElement("div",{className:"z2"},r.a.createElement("div",{className:"sharing_popup"},r.a.createElement("div",{className:"z2_title"},"Share your sentence!",r.a.createElement("span",{className:"z2_hide",onClick:function(){c(!1)}},"x")),r.a.createElement("canvas",{ref:i,width:1080,height:566}),r.a.createElement("label",{htmlFor:"my_comment"},"Enter your comment"),r.a.createElement("br",null),r.a.createElement("textarea",{id:"my_comment",defaultValue:"I'm playing details (the game)!",name:"my_comment",rows:"4"}),r.a.createElement("div",{className:"sharing_button_row"},r.a.createElement(U.a,{children:r.a.createElement(F.a,{size:32,round:!0}),url:l}),r.a.createElement(D.a,{children:r.a.createElement(L.a,{size:32,round:!0}),url:l}),r.a.createElement(P.a,{children:r.a.createElement(H.a,{size:32,round:!0}),url:l}),r.a.createElement(Y.a,{children:r.a.createElement(M.a,{size:32,round:!0}),url:l}),r.a.createElement(V.a,{children:r.a.createElement(B.a,{size:32,round:!0}),url:l}),r.a.createElement(G.a,{children:r.a.createElement(A.a,{size:32,round:!0}),url:l}))))}),X=function(e){var t,a=e.sentence,n=e.cards,r=e.canvasRef,c=e.workingCards,o=r.current.getContext("2d"),i='normal normal 48px -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif',l=30;o.font=i;var s=r.current.width,d=80,u=Z(a,30,80,s,15,20,o),m=u[u.length-1].row,h=80+l+(t=80*m+30*(m-1))+l+120+30+100+30;return r.current.height=Math.max(566,h),o.font=i,566>h&&(l=(566-h)/2),o.fillStyle="#282c34",o.fillRect(0,0,s,r.current.height),o.font='normal normal 36px -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif',o.fillStyle="var(--active_outline)",o.fillText("detailsthegame.com",20,d-20),d+=l,o.font=i,q(u,d,15,20,s,o),d+=t,d+=l,o.fillStyle="whitesmoke",K(n,20,d,s,120,c,o),d+=120,d+=30,o.lineWidth=7,Q(n,20,d,s,100,'normal normal 30px -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif',o),d+=100,d+=30,r.current.toDataURL()},Z=function(e,t,a,n,r,c,o){for(var i=e.map((function(e){return{id:e.id,word:e.word,type:e.type,color:$(e.type),width:o.measureText(e.word).width+r,row:1,wordX:0,wordY:0}})),l=n-c-c,s=1,d=0,u=0;u<i.length;u++)i[u].width>=l-d||u+1<i.length&&te(i[u+1].type)&&i[u].width+i[u+1].width>l-d?(s+=1,i[u].row=s,d=i[u].width+r,te(i[u+1].type)&&(i[u+1].row=s,d+=i[u+1].width,u++)):(i[u].row=s,d+=i[u].width);s=1;for(var m=0,h=0;h<i.length;h++)i[h].wordX=m,m+=i[h].width,i[h].wordY=a*s+t*(s-1),h+1<i.length&&i[h+1].row!==s&&(s+=1,m=0);return i},q=function(e,t,a,n,r,c){for(var o=[0],i=e[e.length-1].row,l=function(t){o.push(e.reduce((function(e,a){return a.row===t?e+a.width:e}),0))},s=1;s<=i;s++)l(s);for(var d=[0],u=a,m=1;m<=i;m++)1===m&&(u=0),d.push((r-o[m]+u)/2);for(var h=0;h<e.length;h++)c.fillStyle=e[h].color,c.fillText(e[h].word,e[h].wordX+d[e[h].row],e[h].wordY+t-n)},K=function(e,t,a,n,r,c,o){o.fillRect(t,a,n-t-t,r)},Q=function(e,t,a,n,r,c,o){var i=110,l=(n-t-t-880)/7,s=a,d=r,u=s+40,m=s+80,h=t;o.lineWidth=5,o.textAlign="center",["adj","adv","conj","pron","noun","verb","prep","intrj"].forEach((function(t){var a=!1,n=e.filter((function(e){return e.type===t&&!e.working}));n.length>0?(a=!0,o.fillStyle=$(t)):(o.strokeStyle="gray",o.fillStyle="gray"),ee(h,s,i,d,10,o,a),o.font=c,a&&(o.fillStyle="black"),o.fillText(t,h+55,u),o.fillText(n.length,h+55,m),h=h+i+l}))},$=function(e){var t="";switch(!0){case"conj"===e:t="yellow";break;case"adj"===e:t="lightskyblue";break;case"noun"===e:t="dodgerblue";break;case"adv"===e:t="pink";break;case"verb"===e:t="salmon";break;case"intrj"===e:t="orange";break;case"prep"===e:t="lime";break;case"pron"===e:t="fuchsia";break;default:t="white"}return t},ee=function(e,t,a,n,r,c,o){c.beginPath(),c.moveTo(e+a/2,t),c.arcTo(e+a,t,e+a,t+n/2,r),c.arcTo(e+a,t+n,e+a/2,t+n,r),c.arcTo(e,t+n,e,t+n/2,r),c.arcTo(e,t,e+a/2,t,r),c.lineTo(e+a/2,t),o?c.fill():c.stroke(),c.closePath()},te=function(e){var t=!1;return"_"===e[1]&&(t=!0),t},ae=function(e){var t=e.sentence,a=e.cards,n=e.showSharing,c=e.setShowSharing;e.workingCards;return n?r.a.createElement(J,{sentence:t,cards:a,setShowSharing:c}):r.a.createElement("div",{className:"hidden"})},ne=function(e){var t=e.action,a="disabled";return e.undoable&&(a=""),r.a.createElement("button",{className:a,onClick:function(e){e.preventDefault(),t()}},"undo")},re=function(e){var t=e.action;return r.a.createElement("button",{className:"enabled",onClick:function(e){e.preventDefault(),t()}},"new game")},ce=function(e){var t=e.action,a="";return e.active||(a="disabled"),r.a.createElement("button",{className:a,onClick:function(e){e.preventDefault(),t()}},"new card")},oe=function(e){var t=e.action;return r.a.createElement("button",{className:"enabled",onClick:function(e){e.preventDefault(),t(!0)}},"share")},ie=function(e){var t=Object(p.a)({},e);return r.a.createElement("div",{className:"button_row"},r.a.createElement("div",{className:"leftbutt"},r.a.createElement(re,{action:t.newGame})),r.a.createElement("div",{className:"rightbutt"},r.a.createElement(ne,{action:t.undo,undoable:t.undoable}),r.a.createElement(ce,{action:t.newCard,active:t.active}),r.a.createElement(oe,{action:t.setShowSharing}),r.a.createElement(ae,{sentence:t.sentence,cards:t.cards,showSharing:t.showSharing,setShowSharing:t.setShowSharing,workingCards:t.workingCards})),r.a.createElement(ae,null))},le=a(28),se=a.n(le),de=a(29),ue=function(e,t){var a=e.filter((function(e){return e.id===t})),n=null;return 1===a.length?n=a[0]:(console.log("getCardById failed?!"),console.log(a)),n},me=function(e){var t={type:"",content:"",newWerd:e};switch(!0){case","===e[0]:t.type="p_com",t.content=",",t.newWerd=e.slice(1).trim();break;case";"===e[0]:t.type="p_semi",t.content=";",t.newWerd=e.slice(1).trim();break;case":"===e[0]:t.type="p_col",t.content=":",t.newWerd=e.slice(1).trim();break;case"("===e[0]:t.type="p_parL",t.content="(",t.newWerd=e.slice(1).trim();break;default:t.type="nopunc"}return t},he=function(e){var t=e.length-1,a={type:"",content:"",newWerd:e};switch(!0){case","===e[t]:a.type="p_com",a.content=",",a.newWerd=e.slice(0,t).trim();break;case";"===e[t]:a.type="p_semi",a.content=";",a.newWerd=e.slice(0,t).trim();break;case":"===e[t]:a.type="p_cln",a.content=":",a.newWerd=e.slice(0,t).trim();break;case"!"===e[t]:a.type="p_exc",a.content="!",a.newWerd=e.slice(0,t).trim();break;case"."===e[t]:a.type="p_prd",a.content=".",a.newWerd=e.slice(0,t).trim();break;case"?"===e[t]:a.type="p_qm",a.content="?",a.newWerd=e.slice(0,t).trim();break;case")"===e[t]:a.type="p_parR",a.content=")",a.newWerd=e.slice(0,t).trim();break;default:a.type="nopunc"}return a},ge=function(e){return/^(the |a |an )/i.test(e)},pe=function(e){return/^(the )/i.test(e)?e.slice(0,3):/^(an )/i.test(e)?e.slice(0,2):e.slice(0,1)},we=function(e){return(/^(the )/i.test(e)?e.slice(3):/^(an )/i.test(e)?e.slice(2):e.slice(1)).trim()},fe=[{sentenceId:g.a.v4(),id:0,type:"gameid",word:""},{id:1,type:"intrj",word:"Hello"},{id:2,type:"p_com",word:","},{id:3,type:"noun",word:"World"},{id:4,type:"p_exc",word:"!"}],ve=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={active:!1,placing:!1,showSharing:!1,sentence:[fe],cards:[],workingCards:[],lastCards:[],undoable:!1,undoSecondsLeft:0,winner:!1,sentenceUpdateCount:0,totalCardCount:0},a.updateSentence=a.updateSentence.bind(Object(u.a)(a)),a.undo=a.undo.bind(Object(u.a)(a)),a.newGame=a.newGame.bind(Object(u.a)(a)),a.newCard=a.newCard.bind(Object(u.a)(a)),a.editCard=a.editCard.bind(Object(u.a)(a)),a.toggleWorking=a.toggleWorking.bind(Object(u.a)(a)),a.clearWR=a.clearWR.bind(Object(u.a)(a)),a.addToWR=a.addToWR.bind(Object(u.a)(a)),a.removeFromWR=a.removeFromWR.bind(Object(u.a)(a)),a.insert=a.insert.bind(Object(u.a)(a)),a.setPlacing=a.setPlacing.bind(Object(u.a)(a)),a.setLastCards=a.setLastCards.bind(Object(u.a)(a)),a.setUndoability=a.setUndoability.bind(Object(u.a)(a)),a.setShowSharing=a.setShowSharing.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"updateSentence",value:function(e){var t=this.state.sentence;t.push(e),this.setState({sentence:t})}},{key:"undo",value:function(){var e=this.state.sentence;e.pop(),this.setState({sentence:e,cards:this.state.lastCards,undoable:!1})}},{key:"newGame",value:function(){var e=this;se.a.get("http://localhost:3000/",{headers:{"Content-Type":"text/plain"}}).then((function(t){t.data;var a=function(e){var t=de;return console.log(t),t}();if(console.log(a),e.setState({sentence:[a.sentence]}),e.setPlacing(!1),e.clearWR(),a.cards.length>0)e.setState({cards:a.cards});else{for(var n=[],r=0;r<5;r++)n.push(Ee(r));e.setState({cards:n,totalCardCount:5})}e.setState({lastCards:[],active:!0,winner:!1,sentenceUpdateCount:0})})).catch((function(e){return console.log(e)}))}},{key:"newCard",value:function(){this.setState({cards:this.state.cards.concat([Ee(this.state.totalCardCount)]),totalCardCount:this.state.totalCardCount+1})}},{key:"editCard",value:function(e,t){var a=this.state.cards,n=a.findIndex((function(t){return t.id===e}));a[n].word=t,this.setState({cards:a})}},{key:"toggleWorking",value:function(e){var t=this.state.cards.slice(),a=t.findIndex((function(t){return t.id===e}));t[a].working=!t[a].working,this.setState({cards:t})}},{key:"clearWR",value:function(){this.setState({workingCards:[]}),this.setPlacing(!1)}},{key:"addToWR",value:function(e){this.setState({workingCards:this.state.workingCards.concat([e])})}},{key:"removeFromWR",value:function(e){this.setState({workingCards:this.state.workingCards.filter((function(t){return t!==e}))});var t=!1;this.state.cards.forEach((function(e){e.word.length>0&&(t=!0)})),this.setPlacing(this.state.placing&&t)}},{key:"insert",value:function(e){var t=this,a=this.state.sentence[this.state.sentence.length-1].reduce((function(e,t){return t.id>e?t.id:e}),0),n=function(e,t,a){var n=[],r=a+1;return t.forEach((function(t,a){var c=ue(e,t),o=c.word.trim(),i=me(o);("nopunc"!==i.type&&(n.push({id:r++,type:i.type,word:i.content}),o=i.newWerd),"noun"===c.type)&&(ge(o)&&(n.push({id:r++,type:"adj",word:pe(o)}),o=we(o)));if("verb"===c.type){var l=o.split(/\s+/);l.length>0&&(l.forEach((function(e,t){t!==l.length-1&&n.push({id:r++,type:"verb",word:l[t]})})),o=l[l.length-1])}"nopunc"===(i=he(o)).type?n.push({id:r++,type:c.type,word:o}):(n.push({id:r++,type:c.type,word:i.newWerd}),n.push({id:r++,type:i.type,word:i.content}))})),n}(this.state.cards,this.state.workingCards,a),r=this.state.sentence[this.state.sentence.length-1].slice(0,e+1),c=this.state.sentence[this.state.sentence.length-1].slice(e+1),o=r.concat(n).concat(c);this.updateSentence(o),this.setLastCards(),this.setUndoability(),this.setState({cards:this.state.cards.filter((function(e){return-1===t.state.workingCards.findIndex((function(t){return t===e.id}))}))}),this.clearWR()}},{key:"setUndoability",value:function(){var e=this;this.setState({undoable:!0,undoSecondsLeft:7});var t=setInterval((function(){e.state.undoable&&e.state.undoSecondsLeft>0?e.setState({undoSecondsLeft:e.state.undoSecondsLeft-1}):e.state.undoable&&0===e.state.undoSecondsLeft?(e.setState({undoable:!1}),clearInterval(t),e.setState({sentenceUpdateCount:e.state.sentenceUpdateCount+1}),0===e.state.cards.length?e.setState({winner:!0,active:!1}):e.newCard()):(e.setState({undoSecondsLeft:0}),clearInterval(t))}),1e3)}},{key:"setShowSharing",value:function(e){this.setState({showSharing:e})}},{key:"setPlacing",value:function(e){this.setState({placing:e})}},{key:"setLastCards",value:function(){this.setState({lastCards:this.state.cards.map((function(e){return{id:e.id,type:e.type,working:!1,word:""}}))})}},{key:"render",value:function(){return r.a.createElement("div",{className:"Game"},r.a.createElement(ie,{undo:this.undo,cards:this.state.cards,sentence:this.state.sentence[this.state.sentence.length-1],newGame:this.newGame,newCard:this.newCard,showSharing:this.state.showSharing,setShowSharing:this.setShowSharing,active:this.state.active,undoable:this.state.undoable,workingCards:this.state.workingCards}),r.a.createElement(W,{sentence:this.state.sentence[this.state.sentence.length-1],placing:this.state.placing,insert:this.insert}),r.a.createElement(z,{cards:this.state.cards,onEdit:this.editCard,active:this.state.active,wR:this.state.workingCards,toggleWorking:this.toggleWorking,clearWR:this.clearWR,addToWR:this.addToWR,removeFromWR:this.removeFromWR,setPlacing:this.setPlacing,placing:this.state.placing,undoable:this.state.undoable,undoSecondsLeft:this.state.undoSecondsLeft,winner:this.state.winner,totalCardCount:this.state.totalCardCount,sentenceUpdateCount:this.state.sentenceUpdateCount}))}}]),t}(r.a.Component),Ee=function(e){var t=Math.floor(1e3*Math.random()),a=null;switch(!0){case t<280:a="noun";break;case t<460:a="verb";break;case t<530:a="adj";break;case t<580:a="adv";break;case t<670:a="pron";break;case t<790:a="prep";break;case t<980:a="conj";break;default:a="intrj"}return{id:e,type:a,working:!1,word:""}},ye=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(S,null),r.a.createElement(ve,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},8:function(e,t,a){}},[[32,1,2]]]);
//# sourceMappingURL=main.393910c3.chunk.js.map